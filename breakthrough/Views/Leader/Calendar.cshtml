@{
    ViewBag.Title = "Calendar Events";
    Layout = "~/Views/Shared/LeaderLayout.cshtml";
}

<!-- Include FullCalendar CSS and JS -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"></script>

<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card mt-4 shadow-lg">
                <div class="card-header text-center">
                    <h2 class="mb-0">Calendar Events</h2>
                    <p class="justify-content-between">
                        <a href="@Url.Action("CreateEvent", "Leader")" class="btn btn-primary mt-0">Create New Event</a>
                    </p>

                    <!-- Visual Calendar -->
                    <div id="calendar"></div>

                    <!-- Add table-responsive to make the table responsive on small screens -->
                    <div class="table-responsive mw-100 mt-4">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Event Title</th>
                                    <th>Event Type</th>
                                    <th>Details</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Row 1 -->
                                <tr>
                                    <td>Leadership Meeting</td>
                                    <td>Meeting</td>
                                    <td>
                                        <button class="btn btn-info" type="button" data-bs-toggle="collapse" data-bs-target="#eventDetails1" aria-expanded="false" aria-controls="eventDetails1">
                                            View Details &#9662; <!-- Dropdown Arrow -->
                                        </button>
                                    </td>
                                </tr>
                                <tr id="eventDetails1" class="collapse">
                                    <td colspan="6">
                                        <div class="card card-body">
                                            <p><strong>Event Title:</strong> Leadership Meeting</p>
                                            <p><strong>Event Type:</strong> Meeting</p>
                                            <p><strong>Start Date:</strong> 12/01/2024</p>
                                            <p><strong>End Date:</strong> 12/01/2024</p>
                                            <p><strong>Location:</strong> Church Hall</p>
                                            <a asp-action="Edit" class="btn btn-warning mb-1">Edit</a>
                                            <a asp-action="Delete" class="btn btn-danger">Delete</a>
                                        </div>
                                    </td>
                                </tr>
                                <hr />
                                <!-- Row 2 -->
                                <tr>
                                    <td>Community Outreach</td>
                                    <td>Outreach</td>
                                    <td>
                                        <button class="btn btn-info" type="button" data-bs-toggle="collapse" data-bs-target="#eventDetails2" aria-expanded="false" aria-controls="eventDetails2">
                                            View Details &#9662; <!-- Dropdown Arrow -->
                                        </button>
                                    </td>
                                </tr>
                                <tr id="eventDetails2" class="collapse">
                                    <td colspan="6">
                                        <div class="card card-body">
                                            <p><strong>Event Title:</strong> Community Outreach</p>
                                            <p><strong>Event Type:</strong> Outreach</p>
                                            <p><strong>Start Date:</strong> 12/15/2024</p>
                                            <p><strong>End Date:</strong> 12/15/2024</p>
                                            <p><strong>Location:</strong> City Park</p>
                                            <a asp-action="Edit" class="btn btn-warning mb-1">Edit</a>
                                            <a asp-action="Delete" class="btn btn-danger">Delete</a>
                                        </div>
                                    </td>
                                </tr>

                                <!-- Add more rows similarly -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Initialize FullCalendar -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            events: [
                {
                    title: 'Leadership Meeting',
                    start: '2024-12-01',
                    end: '2024-12-01',
                    description: 'Church Hall',
                },
                {
                    title: 'Community Outreach',
                    start: '2024-12-15',
                    end: '2024-12-15',
                    description: 'City Park',
                }
                // Add more events here
            ],
            eventClick: function(info) {
                alert('Event: ' + info.event.title + '\nDescription: ' + info.event.extendedProps.description);
            }
        });
        calendar.render();
    });
</script>
